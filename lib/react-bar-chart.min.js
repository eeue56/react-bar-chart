!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("d3")):"function"==typeof define&&define.amd?define(["react","d3"],e):"object"==typeof exports?exports.BarChart=e(require("react"),require("d3")):t.BarChart=e(t.React,t.d3)}(this,function(t,e){return function(t){function e(a){if(r[a])return r[a].exports;var n=r[a]={exports:{},id:a,loaded:!1};return t[a].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,r,a){return r&&t(e.prototype,r),a&&t(e,a),e}}(),u=function(t,e,r){for(var a=!0;a;){var n=t,o=e,i=r;u=s=l=void 0,a=!1,null===n&&(n=Function.prototype);var u=Object.getOwnPropertyDescriptor(n,o);if(void 0!==u){if("value"in u)return u.value;var l=u.get;return void 0===l?void 0:l.call(i)}var s=Object.getPrototypeOf(n);if(null===s)return void 0;t=s,e=o,r=i,a=!0}},l=r(1),s=a(l),c=r(2),f=a(c);r(3);var p=function(t,e){return Object.assign({},t,e)},d=function(t){function e(){n(this,e),u(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return o(e,t),i(e,[{key:"_handleBarClick",value:function(t,e){this.props.onBarClick&&this.props.onBarClick(t,e)}},{key:"_renderGraph",value:function(t){var e=t.margin,r=t.width,a=t.height,n=s["default"].findDOMNode(this),o=f["default"].select(n).attr("width",r+e.left+e.right).attr("height",a+e.top+e.bottom);o=o.select(".graph").attr("transform","translate("+e.left+", "+e.top+")"),this._reusableGraph(t)}},{key:"_reusableGraph",value:function(t){var e=this,r=t.margin,a=t.width,n=t.height,o=s["default"].findDOMNode(this),i=f["default"].select(o).attr("width",a+r.left+r.right).attr("height",n+r.top+r.bottom);i=i.select(".graph").attr("transform","translate("+r.left+", "+r.top+")"),i.selectAll("rect").remove(),i.select(".x.axis").remove(),i.select(".y.axis").remove(),i.append("g").attr("class","x axis").attr("transform","translate(0, "+n+")").call(this.xAxis),i.append("g").attr("class","y axis").call(this.yAxis).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").text(t.ylabel),i.selectAll(".bar").data(t.data).enter().append("rect").on("click",this._handleBarClick.bind(this)).attr("class","bar").attr("x",function(t){return e.x(t.text)}).attr("width",this.x.rangeBand()).attr("y",function(t){return e.y(t.value)}).attr("height",function(t){return n-e.y(t.value)})}},{key:"_defineAxis",value:function(t){t.width=t.width-t.margin.left-t.margin.right,t.height=t.height-t.margin.top-t.margin.bottom,this.x=f["default"].scale.ordinal().rangeRoundBands([0,t.width],.1),this.y=f["default"].scale.linear().range([t.height,0]),this.x.domain(t.data.map(function(t){return t.text})),this.y.domain([0,f["default"].max(t.data,function(t){return t.value})]),this.xAxis=f["default"].svg.axis().scale(this.x).orient("bottom"),this.yAxis=f["default"].svg.axis().scale(this.y).orient("left")}},{key:"componentDidMount",value:function(){var t=p(this.props);this._defineAxis(t),this._renderGraph(t)}},{key:"shouldComponentUpdate",value:function(t){var e=p(t);return this._defineAxis(e),this._reusableGraph(e),!1}},{key:"render",value:function(){return s["default"].createElement("svg",null,s["default"].createElement("g",{className:"graph"}))}}],[{key:"propTypes",value:{data:s["default"].PropTypes.array.isRequired,width:s["default"].PropTypes.number.isRequired,height:s["default"].PropTypes.number.isRequired,margin:s["default"].PropTypes.object,ylabel:s["default"].PropTypes.string},enumerable:!0},{key:"defaultProps",value:{margin:{top:0,right:0,bottom:0,left:0}},enumerable:!0}]),e}(s["default"].Component);e["default"]=d,t.exports=e["default"]},function(e,r){e.exports=t},function(t,r){t.exports=e},function(t,e){"use strict";Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(t,e){if(void 0===t||null===t)throw new TypeError("Cannot convert first argument to object");for(var r,a=Object(t),n=!1,o=1;o<arguments.length;o++){var i=arguments[o];if(void 0!==i&&null!==i){for(var u=Object.keys(Object(i)),l=0,s=u.length;s>l;l++){var c=u[l];try{var f=Object.getOwnPropertyDescriptor(i,c);void 0!==f&&f.enumerable&&(a[c]=i[c])}catch(p){n||(n=!0,r=p)}}if(n)throw r}}return a}})}])});